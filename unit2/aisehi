<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            box-shadow: rgba(0, 0, 0, 0.35) 0px -50px 36px -28px inset;
        }
        .container {
            
            width: 90%;
            margin: auto;
            display: flex;
            justify-content: space-around;
            /* border: 1px solid red; */
            height: 750px;
            padding: 10px;
        }
        .left {
            padding: 10px;
            /* border: 1px solid black; */
            box-shadow: rgba(0, 0, 0, 0.25) 0px 54px 55px, rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px, rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;
            height: 650px;
        }
        select,input {
            width: 100%;
            box-sizing: border-box;
            padding: 10px;
            font-size: 16px;
        }
        h5 {
            font-size: 20px;
            margin-bottom: 10px;
        }
        button {
            display: block;
            margin: auto;
            margin-top: 15px;
            width: 35%;
           
        }
        .right {
            /* border: 1px solid saddlebrown; */
            box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px inset, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px inset;
            height: 670px;
        }
        th {
            border-bottom: 1px solid black;
            padding-top: 0px ;
            padding-bottom: 5px;
            text-align: left;
            font-size: 20px;
            
        }
        
    </style>
</head>
<body>
    <div class="container">
        <div class="left">
            
                
                <select id="filter" onchange="filterfun()">
                    <option value="">Filter by category</option>
                    <option value="refund">Refund</option>
                    <option value="missing">Item Missing</option>
                    <option value="status">Order Status</option>
                    <option value="delivery">Delivery</option>
                    <option value="feedback">Feedback</option>
                </select>
                <select id="sorting" onchange="sortingfun()">
                    <option value="">Sort by</option>
                    <option value="ascend">Low to High</option>
                    <option value="descend">High to Low</option>
                </select>
                <h5>Select Category</h5>
                <select id="cat">
                    <option value="">Select</option>
                    <option value="refund">Refund</option>
                    <option value="missing">Item Missing</option>
                    <option value="status">Order Status</option>
                    <option value="delivery">Delivery</option>
                    <option value="feedback">Feedback</option>
                </select>
                <h5>Descripton</h5>
                <textarea id="area" cols="30" rows="5"></textarea>
                <h5>Select Date</h5>
                <input id="date" type="date">
                <h5>Ticket Number</h5>
                <input id="tnumber" type="number">
                <button onclick="submitfun()">submit da</button>
           
        </div>
        <div class="right">
            <table border="0px"
                    cellspacing = "55px" >
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Category</th>
                        <th>Descripton</th>
                        <th>Date</th>
                        <th>Ticket Number</th>
                    </tr>
                </thead>
                <tbody>

                </tbody>
            </table>
        </div>
    </div>
</body>
</html>

<script>

var arr = JSON.parse(localStorage.getItem("karlo")) || [];
displaytable(arr);
    function submitfun(){
        var cate = document.querySelector("#cat").value;
        var des = document.querySelector("#area").value;
        var date = document.querySelector("#date").value;
        var number = document.querySelector("#tnumber").value;

        

        var obj = {
            category: cate,
            descri : des,
            date : date,
            ticket : number
        }
        console.log(obj);
        arr.push(obj);
       localStorage.setItem("karlo",JSON.stringify(arr));
       
        displaytable(arr);
    }

    function displaytable(arr){

document.querySelector("tbody").innerHTML="";

arr.map(function(elem,index){



    var tr = document.createElement("tr");

    var td1 = document.createElement("td");
    td1.textContent=index+1;

    var td2 = document.createElement("td");
    td2.textContent=elem.category;
    
    var td3 = document.createElement("td");
    td3.textContent=elem.descri;
   
    var td4 = document.createElement("td");
    td4.textContent=elem.date;
    
    var td5 = document.createElement("td");
    td5.textContent=elem.ticket;

    tr.append(td1,td2,td3,td4,td5);

    document.querySelector("tbody").append(tr);
}) 
    

}

function filterfun(){
var selected = document.querySelector("#filter").value;
console.log(selected);
var filterarr =  arr.filter(function(elem){
    return selected == elem.category;
})
console.log(filterarr);
displaytable(filterarr);
}

function sortingfun(){
var selectsort = document.querySelector("#sorting").value;
if(selectsort=="ascend"){
    arr.sort(function(a,b){
        return a.ticket-b.ticket;
    })
}
if(selectsort=="descend"){
    arr.sort(function(a,b){
        return b.ticket-a.ticket;
    })
}
displaytable(arr);
}
</script>